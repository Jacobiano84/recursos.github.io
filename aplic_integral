<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Superficie 3D</title>

  <!-- Plotly -->
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>

  <style>
    body { margin:0; font-family:sans-serif; background:#fff; }
    #plot { width: 100%; height: 520px; }
  </style>
</head>
<body>

<div id="plot"></div>

<script>
(function () {
  // ====== CONFIG RANGO / RESOLUCIÓN ======
  const xmin = -3, xmax = 3;
  const ymin = -3, ymax = 3;
  const n = 60; // más alto = más detalle (más pesado)

  // ====== MALLA ======
  function linspace(a, b, n) {
    const arr = [];
    const step = (b - a) / (n - 1);
    for (let i = 0; i < n; i++) arr.push(a + i * step);
    return arr;
  }

  const xs = linspace(xmin, xmax, n);
  const ys = linspace(ymin, ymax, n);

  // ====== FUNCIÓN z = f(x,y) (CAMBIA AQUÍ) ======
  function f(x, y) {
    // Ejemplo: z = sin(x)*cos(y)
    return Math.sin(x) * Math.cos(y);
  }

  // z como matriz [ys][xs]
  const z = ys.map(y => xs.map(x => f(x, y)));

  const data = [{
    type: 'surface',
    x: xs,
    y: ys,
    z: z,
    showscale: true
  }];

  const layout = {
    margin: {l:0, r:0, t:30, b:0},
    title: 'Superficie 3D: z = f(x,y)',
    scene: {
      xaxis: {title: 'x'},
      yaxis: {title: 'y'},
      zaxis: {title: 'z'}
    }
  };

  Plotly.newPlot('plot', data, layout, {responsive: true});
})();
</script>

</body>
</html>
